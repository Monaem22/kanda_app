import{r,A as j,u as f,j as e,a as d,y as i}from"./index-Ccy8gSAR.js";import{A as g}from"./api-CiEY4WUz.js";import{I as u}from"./placeholder-C5s33bWh.js";function b(){const{userId:t}=r.useContext(j),[l,c]=r.useState(!1),[o,m]=r.useState([]),n=f();async function x(s){c(!0);try{let{data:a}=await g.get(`/admin/get_all_members/${s}`);m(a.message),i.success("تم جلب الداتا بنجاح!")}catch(a){console.error("Error fetching data:",a),i.error("فشل جلب الداتا برجاء المحاولة مرة اخرى")}c(!1)}if(r.useEffect(()=>{t?x(t):n("/login")},[t,n]),l)return e.jsx(d,{});async function h(){sessionStorage.removeItem("UserId"),sessionStorage.removeItem("UserRole"),i.success("تم تسجيل الخروج!"),n("/login")}return l?e.jsx(d,{}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"more-info",children:[e.jsxs("div",{className:"d-flex gap-4",children:[e.jsx("h4",{className:"main-bg text-center mb-2",children:"معلومات اضافية"}),e.jsx("p",{className:"me-3 mt-2 fw-bold main-color fs-4",children:"أعضاء الملف"})]}),e.jsx("div",{children:e.jsx("button",{className:"user-logout text-white fw-bold border-0 p-2 m-2",onClick:()=>h(),children:"تسجيل الخروج"})}),e.jsx("div",{className:"container my-4 main-color",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-10",children:o.length===0?e.jsx("div",{className:"text-center",children:e.jsx("h3",{children:"لا يوجد اعضاء لعرضهم"})}):o.map((s,a)=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-4 border-bottom py-3",children:[e.jsxs("div",{className:"more-info",children:[e.jsxs("div",{className:"mb-3 d-flex gap-2",children:[e.jsx("p",{children:"الاسم الكامل :"}),e.jsx("span",{children:s.full_name})]}),e.jsxs("div",{className:"mb-3 d-flex gap-2",children:[e.jsx("p",{children:"رقم ID :"}),e.jsx("span",{children:s.national_id})]}),e.jsxs("div",{className:"mb-3 d-flex gap-2",children:[e.jsx("p",{children:"تاريخ الميلاد :"}),e.jsx("span",{children:s.birth_date})]})]}),e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:u,alt:"user-image"})})]},a))})})})]})})}export{b as default};
