import{u,r as h,j as a,a as _,$ as p,y as d}from"./index-Ccy8gSAR.js";import{c as x,a as l,b as r,u as v}from"./formik.esm-D4hxogZ9.js";import{A as b}from"./api-CiEY4WUz.js";function N(){const i=u(),[t,s]=h.useState(!1);async function o(c){try{s(!0);let{data:n}=await b.post("/admin/add_user",c);d.success(n.message),i("/display-users"),s(!1)}catch{d.error("حدث خطأ أثناء تسجيل الدخول."),s(!1)}}const m=x({Category:l().required("الفئة مطلوبة"),file_status:l().required("حالة الملف مطلوبة"),result:l().required("النتيجه مطلوبة"),name:l().min(3,"يجب أن يتكون الاسم الأول من 3 حروف على الأقل").max(15,"الاسم الأول لا يمكن أن يتجاوز 15 حرفًا").required("اسم المستخدم الأول مطلوب"),last_name:l().min(3,"يجب أن يتكون الاسم الثاني من 3 حروف على الأقل").max(15,"الاسم الثاني لا يمكن أن يتجاوز 15 حرفًا").required("اسم المستخدم الثاني مطلوب"),nationality:l().required("الجنسية مطلوبة"),national_id:l().matches(/^\d+$/,"رقم الهوية يجب أن يحتوي على أرقام فقط").required("رقم الهوية مطلوب"),birth_date:r().required("تاريخ الميلاد مطلوب"),file_open_date:r().required("تاريخ فتح الملف مطلوب"),result_release_date:r().required("تاريخ صدور النتيجة مطلوب"),travel_procedures_date:r().required("تاريخ إجراءات السفر مطلوب"),travel_date:r().required("تاريخ السفر مطلوب")}),e=v({initialValues:{name:"",last_name:"",national_id:"",birth_date:"",nationality:"",Category:"",file_status:"",result:"",file_number:"",file_open_date:"",file_category:"",result_release_date:"",travel_procedures_date:"",travel_date:""},validationSchema:m,onSubmit:o});return t?a.jsx(_,{}):a.jsx(a.Fragment,{children:a.jsxs("section",{className:"add-user",children:[a.jsx("h4",{className:"main-bg text-center mb-4",children:"اضافة مستخدم"}),a.jsx("div",{className:"container main-color",children:a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-md-12",children:a.jsxs("form",{className:"p-4 rounded",onSubmit:e.handleSubmit,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"Category",className:"form-label",children:"الفئة:"}),a.jsx("input",{type:"text",id:"Category",name:"Category",className:"form-control",placeholder:"ادخل الفئة ( مثال: لجوء )",value:e.values.Category,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.Category&&e.touched.Category?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.Category}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"file_status",className:"form-label",children:"حالة الملف:"}),a.jsx("input",{type:"text",id:"file_status",name:"file_status",className:"form-control",placeholder:"ادخل الحالة (مثال: مكتمل / غير مكتمل )",value:e.values.file_status,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.file_status&&e.touched.file_status?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.file_status}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"result",className:"form-label",children:"النتيجة:"}),a.jsx("input",{type:"text",id:"result",name:"result",className:"form-control",placeholder:"ادخل الحالة (مثال: موافقة / غير موافقة )",value:e.values.result,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.result&&e.touched.result?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.result}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"الاسم الاول:"}),a.jsx("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:"اسم المستخدم الاول",value:e.values.name,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.name&&e.touched.name?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.name}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"last_name",className:"form-label",children:"اسم العائلة:"}),a.jsx("input",{type:"text",id:"last_name",name:"last_name",className:"form-control",placeholder:"اسم العائلة",value:e.values.last_name,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.last_name&&e.touched.last_name?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.last_name}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"nationality",className:"form-label",children:"الجنسية:"}),a.jsx("input",{type:"text",id:"nationality",name:"nationality",className:"form-control",placeholder:"ادخل الجنسية",value:e.values.nationality,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.nationality&&e.touched.nationality?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.nationality}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"national_id",className:"form-label",children:"رقم ID:"}),a.jsx("input",{type:"text",id:"national_id",name:"national_id",className:"form-control",placeholder:"ادخل رقم الهوية",value:e.values.national_id,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.national_id&&e.touched.national_id?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.national_id}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"birth_date",className:"form-label",children:"تاريخ الميلاد:"}),a.jsx("input",{type:"date",id:"birth_date",name:"birth_date",className:"form-control",value:e.values.birth_date,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.birth_date&&e.touched.birth_date?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.birth_date}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"file_open_date",className:"form-label",children:"تاريخ فتح الملف:"}),a.jsx("input",{type:"date",id:"file_open_date",name:"file_open_date",className:"form-control",placeholder:"mm/dd/yyyy",value:e.values.file_open_date,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.file_open_date&&e.touched.file_open_date?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.file_open_date}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"result_release_date",className:"form-label",children:"تاريخ صدور النتيجة:"}),a.jsx("input",{type:"date",id:"result_release_date",name:"result_release_date",className:"form-control",placeholder:"mm/dd/yyyy",value:e.values.result_release_date,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.result_release_date&&e.touched.result_release_date?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.result_release_date}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"travel_procedures_date",className:"form-label",children:"تاريخ إجراءات السفر:"}),a.jsx("input",{type:"date",id:"travel_procedures_date",name:"travel_procedures_date",className:"form-control",placeholder:"mm/dd/yyyy",value:e.values.travel_procedures_date,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.travel_procedures_date&&e.touched.travel_procedures_date?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.travel_procedures_date}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"travel_date",className:"form-label",children:"تاريخ السفر:"}),a.jsx("input",{type:"date",id:"travel_date",name:"travel_date",className:"form-control",placeholder:"mm/dd/yyyy",value:e.values.travel_date,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.travel_date&&e.touched.travel_date?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.travel_date}):null]}),a.jsx("button",{type:"submit",className:"main-bg text-white border-0 rounded-1 fw-bold py-2 w-100 d-flex justify-content-center",disabled:!(e.isValid&&e.dirty),children:t?a.jsx(p,{height:"20",width:"50",color:"#fff",ariaLabel:"bars-loading",visible:!0}):"إضافة المستخدم"})]})})})})]})})}export{N as default};
