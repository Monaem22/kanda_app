import{u as c,r as u,j as a,a as h,$ as p,y as n}from"./index-Ccy8gSAR.js";import{c as x,a as t,u as f}from"./formik.esm-D4hxogZ9.js";import{A as b}from"./api-CiEY4WUz.js";function v(){const i=c(),[r,s]=u.useState(!1);async function d(m){try{s(!0);let{data:l}=await b.post("/admin/create_new_admin",m);n.success(l.message),s(!1),i("/display-admins")}catch{n.error("حدث خطأ أثناء إضافة المسؤول."),s(!1)}}const o=x({name:t().min(3,"يجب أن يكون الاسم مكونًا من 3 حروف على الأقل").max(15,"لا يمكن أن يتجاوز الاسم 15 حرفًا").required("اسم المسؤول مطلوب"),password:t().matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])[A-Za-z0-9]{3,}$/,"كلمة المرور يجب أن تحتوي على حرف كبير، حرف صغير، ورقم، وألا تقل عن 6 أحرف").required("كلمة المرور مطلوبة")}),e=f({initialValues:{name:"",password:""},validationSchema:o,onSubmit:d});return r?a.jsx(h,{}):a.jsx(a.Fragment,{children:a.jsx("section",{className:"my-5 py-5 add-admin",children:a.jsxs("div",{className:"container",children:[a.jsx("h4",{className:"fw-bold main-color mb-4",children:"إضافة مسؤول جديد :"}),a.jsxs("form",{onSubmit:e.handleSubmit,children:[a.jsxs("div",{className:"row mb-3",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"name",className:"form-label main-color fw-bold",children:"اسم المسؤول:"}),a.jsx("input",{type:"text",className:"form-control",id:"name",placeholder:"أدخل اسم المسؤول",style:{textAlign:"right",direction:"rtl"},name:"name",value:e.values.name,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.name&&e.touched.name?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.name}):null]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"password",className:"form-label main-color fw-bold",children:"كلمة المرور:"}),a.jsx("input",{type:"password",className:"form-control",id:"password",placeholder:"أدخل كلمة المرور",style:{textAlign:"right",direction:"rtl"},name:"password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.password&&e.touched.password?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.password}):null]})]}),a.jsx("button",{type:"submit",className:"main-bg text-white border-0 rounded-1 fw-bold py-2 w-100 d-flex justify-content-center",disabled:!(e.isValid&&e.dirty),children:r?a.jsx(p,{height:"20",width:"50",color:"#fff",ariaLabel:"bars-loading",visible:!0}):"إضافة المسؤول"})]})]})})})}export{v as default};
