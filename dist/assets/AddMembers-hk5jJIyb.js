import{u as h,r as t,A as b,j as a,a as f,$ as x,y as n}from"./index-Ccy8gSAR.js";import{c as _,a as i,b as j,u as p}from"./formik.esm-D4hxogZ9.js";import{A as N}from"./api-CiEY4WUz.js";function w(){const d=h();let{adminAddUserId:o}=t.useContext(b);const[r,l]=t.useState(!1);async function m(u){try{l(!0);let{data:s}=await N.post(`/admin/add_member/${o}`,u);n.success(s.message),d("/display-users"),l(!1)}catch{n.error("حدث خطأ أثناء اضافة العضو."),l(!1)}}const c=_({full_name:i().min(3,"يجب أن يتكون الاسم من 3 حروف على الأقل").max(15,"الاسم لا يمكن أن يتجاوز 15 حرفًا").required("الأول مطلوب"),national_id:i().matches(/^\d+$/,"رقم الهوية يجب أن يحتوي على أرقام فقط").required("رقم الهوية مطلوب"),birth_date:j().required("تاريخ الميلاد مطلوب")}),e=p({initialValues:{full_name:"",national_id:"",birth_date:""},validationSchema:c,onSubmit:m});return r?a.jsx(f,{}):a.jsxs("section",{className:"add-members",children:[a.jsx("h4",{className:"main-bg text-center mb-4",children:"اضافة عضو"}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-md-12",children:a.jsxs("form",{className:"p-4 rounded",onSubmit:e.handleSubmit,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"full_name",className:"form-label fw-bold main-color",children:"الاسم :"}),a.jsx("input",{type:"text",id:"full_name",name:"full_name",className:"form-control",placeholder:"اسم المستخدم الاول",value:e.values.full_name,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.full_name&&e.touched.full_name?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.full_name}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"national_id",className:"form-label fw-bold main-color",children:"رقم ID:"}),a.jsx("input",{type:"text",id:"national_id",name:"national_id",className:"form-control",placeholder:"ادخل رقم الهوية",value:e.values.national_id,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.national_id&&e.touched.national_id?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.national_id}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"birth_date",className:"form-label fw-bold main-color",children:"تاريخ الميلاد:"}),a.jsx("input",{type:"date",id:"birth_date",name:"birth_date",className:"form-control",value:e.values.birth_date,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.birth_date&&e.touched.birth_date?a.jsx("div",{className:"alert alert-danger p-2 mt-3",children:e.errors.birth_date}):null]}),a.jsx("button",{type:"submit",className:"main-bg text-white border-0 rounded-1 fw-bold py-2 w-100 d-flex justify-content-center",disabled:!(e.isValid&&e.dirty),children:r?a.jsx(x,{height:"20",width:"50",color:"#fff",ariaLabel:"bars-loading",visible:!0}):"إضافة العضو"})]})})})})]})}export{w as default};
